<!DOCTYPE html>
<html>
<body>

<p>test-0429</p>

<button onclick="initGeolocation()">set</button>
<button onclick="func()">test</button>
<button onclick="stop()">stop</button>
<button onclick="show()">show your position</button>

<p id="demo"></p>
<p id="demo2"></p>
<p id="demo3"></p>
<p id="demo4"></p>

<script>
var loca = new Array();
var coun=0;
var t ,a;

function set() {
    t=new Date();
    loca.push(t);
    document.getElementById("demo").innerHTML = loca[coun];
    coun+=1;
}
 
function func(){
    t=new Date();
    loca.push(t);
    document.getElementById("demo2").innerHTML = loca[coun];
    document.getElementById("demo3").innerHTML = loca[coun]-loca[coun-1];
    coun+=1
    a=setTimeout('func()',1000);
}

function stop(){
	clearTimeout(a);
}

function show(){
	if(coun > 0){
		document.getElementById("demo4").innerHTML += loca.shift()+"</br>";
		coun--;
		show();
	}
}

</script>

</body>
</html>